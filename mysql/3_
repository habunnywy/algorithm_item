-- 创建雇员表格
CREATE TABLE IF NOT EXISTS `employee`(
	`emp_id` INT PRIMARY KEY,
    `name` VARCHAR(20),
    `birth_data` DATE,
    `sex` VARCHAR(1),
    `salary` INT,
    `branch_id` INT,
    `sup_id` INT
);

-- 创建机构表格
CREATE TABLE IF NOT EXISTS `branch`(	
    `branch_id` INT PRIMARY KEY,
    `branch_name` VARCHAR(20),
    `manager_id` INT,
    FOREIGN KEY(`manager_id`) REFERENCES `employee`(`emp_id`) 
    ON DELETE SET NULL
);

-- 对雇员表格进行FOREIGN KEY 设置
ALTER TABLE `employee`
ADD FOREIGN KEY(`branch_id`)
REFERENCES `branch`(`branch_id`)
ON DELETE SET NULL;

ALTER TABLE `employee`
ADD FOREIGN KEY(`sup_id`) REFERENCES `employee`(`emp_id`)
ON DELETE SET NULL;

-- 创建客户表格
CREATE TABLE IF NOT EXISTS `client`(
	`client_id` INT PRIMARY KEY,
    `client_name` VARCHAR(20),
    `phone` VARCHAR(20)
);

-- 创建交易表格
CREATE 